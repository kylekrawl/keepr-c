webpackJsonp([1],{GSjn:function(t,s){},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("7+uW"),o={name:"app",data:function(){return{login:{email:"",password:""},signUp:{userName:"",email:"",password:"",rPassword:""},error:!1}},components:{},mounted:function(){this.$store.dispatch("authenticate")},computed:{activeUser:function(){return this.$store.state.activeUser}},methods:{submitLogin:function(){this.$store.dispatch("login",this.login),this.login={email:"",password:""}},submitRegister:function(){this.signUp.password==this.signUp.rPassword?this.$store.dispatch("register",{username:this.signUp.userName,email:this.signUp.email,password:this.signUp.password}):(this.error=!0,console.error({error:"Passwords Do Not Match"}))},logout:function(){this.$store.dispatch("logout")}}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container-fluid",attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-inverse"},[a("div",{staticClass:"navbar-header"},[t._m(0),t._v(" "),a("a",{staticClass:"navbar-brand",staticStyle:{"font-family":"'Abril Fatface', cursive"}},[t._v("Keepr")]),t._v(" "),t.activeUser.hasOwnProperty("username")?a("div",{staticClass:"text-right"},[a("p",{staticClass:"navbar-text"},[t._v("Welcome "+t._s(t.activeUser.username))]),t._v(" "),a("button",{staticClass:"btn btn-danger navbar-btn logout-btn",attrs:{type:"button"},on:{click:t.logout}},[t._v("Logout")])]):a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary navbar-btn ",attrs:{type:"button","data-toggle":"modal","data-target":"#login"}},[t._v("Login")]),t._v(" "),a("button",{staticClass:"btn btn-success navbar-btn",attrs:{type:"button","data-toggle":"modal","data-target":"#signUp"}},[t._v("Sign-up")])])]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse text-center",attrs:{id:"bs-example-navbar-collapse-1"}},[a("ul",[a("li",[a("router-link",{attrs:{to:{name:"Home"}}},[a("button",{staticClass:"btn btn-default nav-drop-btn",attrs:{type:"button","data-toggle":"collapse","data-target":".navbar-collapse.in"}},[t._v("Home")])])],1)]),t._v(" "),a("ul",{staticClass:"nav navbar-nav navbar-right"})])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"login",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form",attrs:{id:"login"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",attrs:{type:"email",maxlength:"57",name:"email",placeholder:"Email",required:""},domProps:{value:t.login.email},on:{input:function(s){s.target.composing||t.$set(t.login,"email",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",maxlength:"20",placeholder:"password",required:""},domProps:{value:t.login.password},on:{input:function(s){s.target.composing||t.$set(t.login,"password",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-submit btn-success",attrs:{"data-dismiss":"modal",type:"submit"},on:{click:t.submitLogin}},[t._v("Submit")])])])]),t._v(" "),t._m(2)])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"signUp",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("Create an Account")]),t._v(" "),t.error?a("p",[a("b",[t._v("Your Passwords Do Not Match")])]):t._e()]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form",attrs:{id:"register"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userName"}},[t._v("Username:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.userName,expression:"signUp.userName"}],staticClass:"form-control",attrs:{type:"userName",name:"userName",maxlength:"20",placeholder:"user name",required:""},domProps:{value:t.signUp.userName},on:{input:function(s){s.target.composing||t.$set(t.signUp,"userName",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.email,expression:"signUp.email"}],staticClass:"form-control",attrs:{type:"email",maxlength:"57",name:"email",placeholder:"Email",required:""},domProps:{value:t.signUp.email},on:{input:function(s){s.target.composing||t.$set(t.signUp,"email",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.password,expression:"signUp.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",maxlength:"20",placeholder:"password",required:""},domProps:{value:t.signUp.password},on:{input:function(s){s.target.composing||t.$set(t.signUp,"password",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"reEnterPassword"}},[t._v("Re-enter Password:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.rPassword,expression:"signUp.rPassword"}],staticClass:"form-control",attrs:{type:"password",name:"reEnterPassword",maxlength:"20",placeholder:"Re Enter Password"},domProps:{value:t.signUp.rPassword},on:{input:function(s){s.target.composing||t.$set(t.signUp,"rPassword",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-submit btn-success",attrs:{"data-dismiss":"modal",type:"submit"},on:{click:t.submitRegister}},[t._v("Submit")])])])]),t._v(" "),t._m(3)])])]),t._v(" "),a("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false"}},[s("span",{staticClass:"sr-only"},[this._v("Toggle navigation")]),this._v(" "),s("span",{staticClass:"icon-bar"}),this._v(" "),s("span",{staticClass:"icon-bar"}),this._v(" "),s("span",{staticClass:"icon-bar"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")]),this._v(" "),s("h4",{staticClass:"modal-title"},[this._v("Sign in to your account")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}]};var n=a("VU/8")(o,i,!1,function(t){a("GSjn")},null,null).exports,r=a("/ocq"),l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"home container-fluid text-center"},[s("h1",[this._v("Keepr")])])}]};var c=a("VU/8")({name:"Home",data:function(){return{}},components:{},mounted:function(){},computed:{activeUser:function(){return this.$store.state.activeUser}},methods:{}},l,!1,function(t){a("PtZa")},null,null).exports;e.a.use(r.a);var d=new r.a({routes:[{path:"/",name:"Home",component:c}]}),u=a("mtWM"),m=a.n(u),p=a("NYxO"),v=window.location.host.indexOf("localhost")>-1?"//localhost:5000/":"/",g=m.a.create({baseURL:v+"api/",timeout:2e3,withCredentials:!0}),h=m.a.create({baseURL:v,timeout:2e3,withCredentials:!0});e.a.use(p.a);var f=new p.a.Store({state:{error:{},activeUser:{}},mutations:{handleError:function(t,s){t.error=s},setUser:function(t,s){t.activeUser=s},setListings:function(t,s){console.log(s),e.a.set(t.listings,s.type,s.data)}},actions:{login:function(t,s){var a=t.commit;t.dispatch;h.post("account/login",s).then(function(t){console.log("Successful login."),a("setUser",t.data)}).catch(function(t){a("handleError",t)})},register:function(t,s){var a=t.commit;t.dispatch;h.post("account/register",s).then(function(t){console.log(t),a("setUser",t.data)}).catch(function(t){a("handleError",t)})},authenticate:function(t){var s=t.commit;t.dispatch;h("account/authenticate").then(function(t){s("setUser",t.data)}).catch(function(t){s("handleError",t)})},logout:function(t){var s=t.commit;t.dispatch;h.delete("account/logout").then(function(){s("setUser",{}),d.push({name:"Home"})})},getListings:function(t,s){var a=t.commit;t.dispatch;g(""+s.resource).then(function(t){a("setListings",{type:s.resource,data:t.data})}).catch(function(t){a("handleError",t)})},getListing:function(t,s){var a=t.commit;t.dispatch;g(s.resource+"/"+s.endpoint).then(function(t){a("setListing",{type:s.resource,data:t.data})}).catch(function(t){a("handleError",t)})},addListing:function(t,s){var a=t.commit,e=t.dispatch;g.post(""+s.resource).then(function(t){e("getListings",{resource:s.resource})}).catch(function(t){a("handleError",t)})},editListing:function(t,s){var a=t.commit,e=t.dispatch;g.put(s.resource+"/"+s.endpoint,s.data).then(function(t){e("getListings",{resource:s.resource})}).catch(function(t){a("handleError",t)})},deleteListing:function(t,s){var a=t.commit,e=t.dispatch;g.delete(s.resource+"/"+s.endpoint).then(function(t){e("getListings",{resource:s.resource})}).catch(function(t){a("handleError",t)})}}});m.a.create({baseURL:window.location.host.includes("localhost")?"//localhost:5000/":"/",timeout:2e3,withCredentials:!0});e.a.config.productionTip=!1,new e.a({el:"#app",router:d,store:f,template:"<App/>",components:{App:n}})},PtZa:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.d46ac5f2c08529481cf4.js.map